window.unitForm=function(){return{manuallyEdited:!1,sources:[],addSource(){this.sources.push({id:null,type:"ical",url:"",last_sync_at:null})},removeSource(e){this.sources.length>1&&this.sources.splice(e,1)},updateSlug(){if(!this.manuallyEdited){const t=this.$refs.nameInput.value.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");this.$refs.slugInput.value=t}}}};document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("unit-edit-form");if(!e)return;let t=[];if(e.dataset.sources)try{t=JSON.parse(e.dataset.sources)}catch(s){console.error("Error parsing sources data:",s)}const n=window.unitForm();n.sources=t.length>0?t:[],Alpine.data("unitFormWithData",function(){return n}),e.setAttribute("x-data","unitFormWithData()"),Alpine.initTree(e)});
