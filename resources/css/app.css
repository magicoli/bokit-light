@import "tailwindcss";

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';

@theme {
    --font-sans:
        "Instrument Sans", ui-sans-serif, system-ui, sans-serif,
        "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
        "Noto Color Emoji";
}

/* =============================================================================
   NAVIGATION
   ============================================================================= */

nav {
    &.nav-main {
        @apply bg-white shadow-sm border-b border-gray-200;
    }

    .nav-container {
        @apply w-full px-4 sm:px-6 lg:px-8;
    }

    .nav-inner {
        @apply flex justify-between h-16 items-center;
    }

    .nav-branding {
        @apply flex items-center space-x-2 hover:opacity-80 transition-opacity;

        /*.logo {
        }*/

        .logo-img {
            @apply w-12 h-12 object-contain;
        }

        .app-title {
            @apply text-2xl font-semibold text-gray-900;
        }

        .badge-env {
            @apply text-xs font-semibold bg-yellow-400 text-yellow-900 px-2 py-1 rounded;

            /* Sur mobile: version plus compacte */
            @media (max-width: 767px) {
                @apply text-[0.6rem] px-1.5 py-0.5;
            }
        }
    }

    /* Hamburger button */
    .hamburger-button {
        @apply p-2 rounded-md text-gray-700 hover:bg-gray-100 transition-colors order-last;

        /* Visible jusqu'au desktop complet */
        @media (min-width: 1024px) {
            @apply hidden;
        }

        svg {
            @apply w-6 h-6;
        }
    }

    /* Desktop menu */
    .main-menu {
        @apply hidden items-center space-x-1;

        /* Visible Ã  partir de tablet */
        @media (min-width: 768px) {
            @apply flex;
        }
    }

    /* Mobile menu (overlay) */
    .mobile-menu {
        @apply fixed inset-x-0 top-16 bg-white border-b border-gray-200 shadow-lg z-50 px-4 py-4 space-y-3;

        /* Visible jusqu'au desktop complet */
        @media (min-width: 1024px) {
            @apply hidden;
        }

        .menu-section {
            @apply border-t border-gray-200 pt-3 first:border-t-0 first:pt-0;

            /* Cacher la navigation principale sur tablet (elle est dans le main-menu) */
            &.main-nav {
                @media (min-width: 768px) and (max-width: 1023px) {
                    @apply hidden;
                }
            }
        }

        .menu-section-title {
            @apply text-xs font-semibold text-gray-500 uppercase mb-2;
        }
    }

    .nav-link {
        @apply text-sm font-medium text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md hover:bg-gray-100 transition-colors;

        /* Mobile version in overlay */
        .mobile-menu & {
            @apply block w-full text-left;
        }

        /* Sur tablet: cacher dans main-menu si c'est dans mobile-menu */
        @media (min-width: 768px) and (max-width: 1023px) {
            .mobile-menu & {
                @apply hidden;
            }
        }
    }

    .nav-actions {
        @apply flex items-center space-x-4;

        /* Sur mobile: seulement date + hamburger */
        @media (max-width: 767px) {
            @apply space-x-3;

            .dropdown,
            .nav-login,
            .locale-switcher {
                @apply hidden;
            }
        }

        /* Sur tablet: cacher admin/user menus, garder locale */
        @media (min-width: 768px) and (max-width: 1023px) {
            .dropdown,
            .nav-login {
                @apply hidden;
            }
        }
    }

    .dropdown {
        @apply relative;

        /* Cacher sur mobile et tablet */
        @media (max-width: 1023px) {
            @apply hidden;
        }
    }

    .dropdown-button {
        @apply flex items-center space-x-1 text-sm text-gray-700 hover:text-gray-900 focus:outline-none;

        svg {
            @apply w-4 h-4;
        }
    }

    .dropdown-menu {
        @apply absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-200;
    }

    .dropdown-item {
        @apply block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100;
    }

    .dropdown-item-button {
        @apply w-full text-left block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100;
    }

    .badge-admin {
        @apply px-2 py-1 rounded bg-red-100 text-red-800 font-semibold;
    }

    .nav-login {
        @apply text-sm text-blue-600 hover:text-blue-800 font-medium;
    }

    .nav-date {
        @apply text-sm text-gray-500;

        /* Sur mobile et tablet: format court avant hamburger */
        @media (max-width: 1023px) {
            @apply text-xs;
        }
    }

    .locale-switcher {
        @apply flex items-center space-x-1 border-l border-gray-300 pl-4;

        /* Cacher sur mobile (sera dans le menu hamburger) */
        @media (max-width: 767px) {
            @apply hidden;
        }

        /* Sur tablet: visible dans la nav */
        @media (min-width: 768px) and (max-width: 1023px) {
            @apply flex;
        }

        /* Dans le menu mobile */
        .mobile-menu & {
            @apply flex border-l-0 pl-0 justify-center;
        }
    }

    .locale-link {
        @apply text-xs px-2 py-1 rounded;

        &.active {
            @apply bg-blue-100 text-blue-800 font-semibold;
        }

        &:not(.active) {
            @apply text-gray-600 hover:bg-gray-100;
        }
    }
}

/* =============================================================================
   MAIN CONTENT
   ============================================================================= */

main {
    > .main-content {
        @apply max-w-4xl mx-auto;

        > .wrapper {
            @apply bg-white rounded-lg shadow-sm p-8;
        }
    }
}
